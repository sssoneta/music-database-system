# üéµ Music Database Project  

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞**  
*–ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ –∫—É—Ä—Å—É "–û—Å–Ω–æ–≤—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö"*  

---

## üìå –û –ø—Ä–æ–µ–∫—Ç–µ  
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:  
- –•—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–µ—Å–Ω—è—Ö, –∞–ª—å–±–æ–º–∞—Ö, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è—Ö –∏ –∂–∞–Ω—Ä–∞—Ö  
- –£—á–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤  
- –ê–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π (–¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π)  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Ç—Ä–∏–≥–≥–µ—Ä—ã  

---

## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö  

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:  
| –¢–∞–±–ª–∏—Ü–∞             | –û–ø–∏—Å–∞–Ω–∏–µ                          |  
|---------------------|-----------------------------------|  
| `song`              | –ü–µ—Å–Ω–∏ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)    |  
| `artist`            | –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏                       |  
| `album`             | –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∞–ª—å–±–æ–º—ã               |  
| `genre`             | –ñ–∞–Ω—Ä—ã                             |  
| `client`            | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–µ—Ä–≤–∏—Å–∞              |  
| `playlist`          | –ü–ª–µ–π–ª–∏—Å—Ç—ã                         |  
| `song_listen`       | –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π             |  

### –°–≤—è–∑—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:  
- `playlist_songs`, `album_song`, `genre_song`, `artist_song`  

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è  
### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:  
1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**  
   - –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤  
   - –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã—Ö —Ä–µ–ª–∏–∑–æ–≤ (<100 –¥–Ω–µ–π)  

2. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**  
   - –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ `song_listen_count` –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π  
   - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤  

3. **–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤**:  
   ```sql  
   -- –ü–µ—Å–Ω–∏ –∏–∑ –∞–ª—å–±–æ–º–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è  
   SELECT s.title FROM song s  
   JOIN artist_song ars ON s.id = ars.song_id  
   JOIN album_song als ON s.id = als.song_id  
   WHERE ars.artist_id = 1 AND als.album_id = 1;  

   -- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ä–æ–¥–∏–≤—à–∏–µ—Å—è –≤ 20 –≤–µ–∫–µ  
   SELECT username FROM client  
   WHERE birth_date BETWEEN '1901-01-01' AND '2000-12-31';  
   ```  

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫  
1. **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:  
   - PostgreSQL 14+  
   - Python 3.8+ (–¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤)  

2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î**:  
   ```bash  
   psql -U postgres -f init_db.sql  
   psql -U postgres -f fill_data.sql  
   ```  

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π**:  
   ```sql  
   -- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞  
   INSERT INTO playlist_songs (playlist_id, song_id) VALUES (1, 5);  
   SELECT update_playlist_duration(1);  
   ```  

---

## üìä –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è  
1. –î–æ–±–∞–≤–∏—Ç—å API –Ω–∞ FastAPI/Django  
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ `song_listen`  
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Spotify API  

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è  
–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö ¬© 2024, 

--- 
